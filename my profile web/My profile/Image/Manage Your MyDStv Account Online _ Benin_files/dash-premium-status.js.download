riot.tag2('tag-dash-premium-status','<div if="{showPremiumStatusSection}" id="premiumStatusSection" class="content-wrapper premium-wrapper clearfix"> <div> <div class="premium-bx-top"> <div class="row"> <div class="col-xs-5 col-lg-offset-2 col-lg-5 text-center"> <div class="title"> <span class="txt-one">{langTranslateApp.premiumStatusTitleSubText1} </span> <div class="visible-xs"> </div> <span class="bold txt-three"> {langTranslateApp.premiumStatusTitleSubText2}</span> </div> <!--<div if="{dstvApp.languageAbbreviation == \'pt\'}" class="title"> <span class="txt-one">{langTranslateApp.premiumStatusTitleSubText1} {langTranslateApp.premiumStatusTitleSubText3} </span> <span class="bold txt-two">100% </span> <div class="visible-xs"> </div> <span class="bold txt-three"> {langTranslateApp.premiumStatusTitleSubText2}</span> </div>--> </div> <div class="col-xs-7 col-lg-4 text-left"> <div class="icon-status icon-status-two"> <div class="icon-bx-top"> <div class="icon-ppremium {app.subsStatus.activePremiumClass}"> </div> <div class="icon-streaming {app.subsStatus.dstvNowPlayClass}"> </div> <div if="{isShowMaxApplicable}" class="icon-showmax {app.subsStatus.showmaxPlayClass}"> </div> <div class="icon-bxoffice {app.subsStatus.boxOfficeRentalClass}"> </div> <div class="icon-explore {app.subsStatus.exploraClass}"> </div> <div class="icon-pvr {app.subsStatus.pvrClass}"> </div> </div> <div class="clearfix"></div> <div class="progress-bx progress-bx-two"> <div class="progressBar"> <progress class="progressBarStatus" value="{app.score}" max="100"></progress></div> </div> </div> </div> </div> </div> <div class="premium-bx-bottom"> <div if="{!hasReachedPremium && dstvApp.languageAbbreviation == \'en\'}" class="title">{langTranslateApp.premiumStatusSubText1} <span class="bold">{100-app.score}% </span>{langTranslateApp.premiumStatusSubText2} <span class="bold">{langTranslateApp.premiumStatusSubText3} </span>{langTranslateApp.premiumStatusSubText4}</div> <div if="{!hasReachedPremium && dstvApp.languageAbbreviation == \'pt\'}" class="title">{langTranslateApp.premiumStatusSubText1} <span class="bold">{100-app.score}% </span>{langTranslateApp.premiumStatusSubText2} {langTranslateApp.premiumStatusSubText3} <span class="bold">{langTranslateApp.premiumStatusSubText4}</span></div> <div if="{hasReachedPremium}" class="title"><strong>{langTranslateApp.premiumStatusSubText5} </strong>{langTranslateApp.premiumStatusSubText6} <strong>{langTranslateApp.premiumStatusSubText7}</strong></div> </div> </div> <div class="premium-bx-txt-bx"> <div class="title"> <span if="{hasReachedPremium}">{langTranslateApp.premiumStatusSubText8} </span><span if="{!hasReachedPremium}">{langTranslateApp.premiumStatusSubText12} </span> <span if="{hasReachedPremium}" class="bold">{langTranslateApp.premiumStatusSubText9} </span><span if="{!hasReachedPremium}" class="bold">{langTranslateApp.premiumStatusSubText13} </span>{langTranslateApp.premiumStatusSubText10} <span class="bold">{langTranslateApp.premiumStatusSubText11}</span></div> </div> <div class="row"> <div class="col-lg-12 text-center"> <div class="popup-overlay"> <div class="popup-content"> <button class="close"><span class="icon-icon-close"> </span> </button> <img class="star-img" src="https://qa.dstvafrica.com/media/14225/starpng.png"/> <h5 class="">{langTranslateApp.premiumStatusText1}</h5> <div class="clearfix"> </div> <ul if="{!differentPopupText}"> <li> {langTranslateApp.premiumStatusText2}</li> <li> {langTranslateApp.premiumStatusText3}</li> <li> {langTranslateApp.premiumStatusText4}</li> <li if="{isAngolaCountry}"> {langTranslateApp.premiumStatusText5a}</li><li if="{!isAngolaCountry}"> {langTranslateApp.premiumStatusText5}</li> </ul> <ul if="{differentPopupText}"> <li> On Premium you have access to 100+ channels to boost your viewing experience!</li> <li> With the DStv app, you can watch your favourite shows on any device!</li> <li> Watch exclusive entertainment on Showmax, itâ€™s Free to all Premium customers!</li> <li> Access the latest Blockbusters with BoxOffice</li> <li> Take control of your DStv experience with your Explorer decoder when you activate PVR</li> </ul> </div> </div> <div class="open"> <img class="star-img" src="https://qa.dstvafrica.com/media/14225/starpng.png"/> <h5>{langTranslateApp.premiumStatusText1} <button class="close"><span class="icon-icon-info"> </span> </button></h5> <div class="clearfix"> </div> </div> </div> </div> <div class="card-bx-bg"> <div class="" if="{!isPremiumStatusLoaded}"> <div class="loading-loader loading" style="z-index: 999;"> <div class="col-sm-12 text-center white loader"> <div class="spinner black"></div> <div class="loading-message">{langTranslateApp.premiumStatusLoading}...</div> </div> </div> </div> <!-- Premium card --> <div class="col-xs-12 col-lg-6" id="premium"> <div class="card-premium DStv Premium-bx"> <div class="card"> <div class="card-face front"> <div class="check-bx {app.subsStatus.activePremiumClass}"></div> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + premiumCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"><i class="icon-pack icon-{app.premPackageCode}"></i></div> </div> <div class="info"></div> <div class="packageCard-Footer"> <span class="txt"> {langTranslateApp.premiumStatusText6}</span> <div class="lowholdFooter"> <span class="pricePkgFooter"> {dstvApp.countrycurrency.toUpperCase()} {app.dualCurrencyApplicable && !notDualCurrency ? app.PremiumPackagePriceEtb : app.PremiumPackagePrice} </span> <span class="priceLetterPkgFooter">{langTranslateApp.premiumStatusText7} </span> <a id="btnPremiumCard" action="premium" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view btn-view-white viewMoreBtnPkgFooter">{premiumCardData.CardButtonText}</a> </div> </div> </div> </div> </div> <div class="clearfix"> </div> <div class="bar-bx"> <div class="left-bx">{premiumCardData.CardFooterText}</div> <div class="right-bx"> <div class="progressBar progress-bx-two"> <progress id="file" value="{premiumDefaultScore}" max="100"></progress> </div> </div> </div> <div class="clearfix"> </div> </div> <!-- Boxoffice card --> <div if="{showCard}" class="col-xs-12 col-lg-6" id="boxoffice"> <div class="card-premium DStv Premium-bx Boxoffice-bx"> <div class="card"> <div class="card-face front"> <div class="check-bx {app.subsStatus.boxOfficeRentalClass}"></div> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + boxOfficeCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"><img src="/media/11610/boxoffice-tab-logo.png" alt="Boxoffice Logo" class="boxoffice"></div> </div> <div class="info"></div> <div class="packageCard-Footer"> <span class="txt">{langTranslateApp.premiumStatusText8}</span> <div class="lowholdFooter"> <span class="pricePkgFooter"> {dstvApp.countrycurrency.toUpperCase()} {app.dualCurrencyApplicable && !notDualCurrency ? app.topUpAmountListEtb[0] : app.topUpAmountList[0]} </span> <span class="priceLetterPkgFooter">{langTranslateApp.premiumStatusText9} </span> <a id="btnBoxofficeCard" action="boxoffice" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view btn-view-white viewMoreBtnPkgFooter"> {boxOfficeCardData.CardButtonText} </a> </div> </div> </div> </div> </div> <div class="clearfix"> </div> <div class="bar-bx"> <div class="left-bx">{boxOfficeCardData.CardFooterText}</div> <div class="right-bx"> <div class="progressBar progress-bx-two"> <progress id="file" value="{boxOfficeDefaultScore}" max="100"></progress> </div> </div> </div> <div class="clearfix"> </div> </div> <!-- Explora card --> <div if="{showCard}" class="col-xs-12 col-lg-6" id="explora"> <div class="card-premium DStv Premium-bx Explora-bx"> <div class="card"> <div class="card-face back"> <div class="check-bx {app.subsStatus.exploraClass}"></div> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + exploraCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"><i class="icon-DStv-Explora"></i></div> <div class="body-wrap" style="color:#ffffff"> <div class="info-txt"> <div class="txt"></div> </div> <div class="cta"><a id="btnExploraCard" action="explora" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view-white "> {exploraCardData.CardButtonText} </a></div> </div> <div class="clearfix"></div> </div> </div> </div> </div> <div class="clearfix"> </div> <div class="bar-bx"> <div class="left-bx">{exploraCardData.CardFooterText}</div> <div class="right-bx"> <div class="progressBar progress-bx-two"> <progress id="file" value="{exploraDefaultScore}" max="100"></progress> </div> </div> </div> <div class="clearfix"> </div> </div> <!-- PVR access services card --> <div if="{showCard}" class="col-xs-12 col-lg-6" id="pvr"> <div class="card-premium DStv Premium-bx Pvr-Access-bx"> <div class="card"> <div class="card-face back"> <div class="check-bx {app.subsStatus.pvrClass}"></div> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + pvrCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"><i class="icon-DStv-PVR-Access-services"></i></div> <div class="body-wrap" style="color:#ffffff"> <div class="info-txt"> <div class="txt"></div> </div> <div class="cta"> <a id="btnPvrCard" action="pvr" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view-white">{pvrCardData.CardButtonText}</a> </div> <div class="clearfix"> </div> </div> </div> </div> </div> </div> <div class="clearfix"> </div> <div class="bar-bx"> <div class="left-bx">{pvrCardData.CardFooterText}</div> <div class="right-bx"> <div class="progressBar progress-bx-two"> <progress id="file" value="{pvrDefaultScore}" max="100"></progress> </div> </div> </div> <div class="clearfix"> </div> </div> <!-- Showmax card --> <div if="{isShowMaxApplicable && showCard}" class="col-xs-12 col-lg-6" id="showmax"> <div class="card-premium DStv Premium-bx Showmax-bx"> <div class="card"> <div class="card-face back"> <div class="check-bx {app.subsStatus.showmaxPlayClass}"></div> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + showmaxCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"><img src="/media/10049/layer1-2x.png" alt="Showmax Logo" class="showmax-icon"></div> <div class="body-wrap" style="color:#ffffff"> <div class="info-txt"> <div class="txt"></div> </div> <div class="cta"><a id="btnShowmaxCard" action="showmax" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view-white "> {showmaxCardData.CardButtonText} </a> </div> <div class="clearfix"> </div> </div> </div> </div> </div> </div> <div class="clearfix"> </div> <div class="bar-bx"> <div class="left-bx">{showmaxCardData.CardFooterText}</div> <div class="right-bx"> <div class="progressBar progress-bx-two"> <progress id="file" value="{showmaxDefaultScore}" max="100"></progress> </div> </div> </div> <div class="clearfix"> </div> </div> <!-- Streaming card --> <div if="{showCard}" class="col-xs-12 col-lg-6" id="streaming"> <div class="card-premium DStv Premium-bx Streaming-bx"> <div class="card"> <div class="card-face back"> <div class="check-bx {app.subsStatus.dstvNowPlayClass}"></div> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + streamingCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"> <i class="icon-DStv-Streaming"></i></div> <div class="body-wrap" style="color:#ffffff"> <div class="info-txt"> <div class="txt"></div> </div> <div class="cta"> <a id="btnStreamingCard" action="streaming" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view-white "> {streamingCardData.CardButtonText} </a> </div> <div class="clearfix"> </div> </div> </div> </div> </div> </div> <div class="clearfix"> </div> <div class="bar-bx"> <div class="left-bx">{streamingCardData.CardFooterText}</div> <div class="right-bx"> <div class="progressBar progress-bx-two"> <progress id="file" value="{dstvNowPlayDefaultScore}" max="100"></progress> </div> </div> </div> <div class="clearfix"> </div> </div> <!--Mobile app card --> <div if="{showCard}" class="col-xs-12 col-lg-6" id="mobile"> <div class="card-premium DStv Premium-bx Mobile-app-bx"> <div class="card"> <div class="card-face back"> <div class="bg-holder" style="background-image: url({dstvApp.targetDomain + mobileCardData.CardImage});"></div> <div class="desc"> <div class="heading heading-white"><i class="icon-DStv-Mobile"></i></div> <div class="body-wrap" style="color:#ffffff"> <div class="info-txt"> <div class="txt"></div> </div> <div class="cta"><a id="btnMobileCard" action="mobile" href="javascript:void(0)" onclick="{OnCardButtonClick}" class="btn-view-white "> {mobileCardData.CardButtonText} </a> </div> <div class="clearfix"> </div> </div> </div> </div> </div> </div> <div class="clearfix"> </div> </div> </div> <div class="dvs-inner-info col-lg-10 col-lg-offset-1 text-center"> <div class="row"> <div class="box mb-4 mb-lg-5 mb-xl-5 mt-4 text-align: center;"> <div style="font-weight: 300; font-size: 0.8em; color: #fff; ">{langTranslateApp.premiumStatusText10}</div> </div> </div> </div></div><section if="{showCallNowPopup}" class="content-wrapper Fix-error-section-main clearfix responseWrapperFix Call-Form"> <button type="button" onclick="{onClose}" class="payment-close">X</button> <div class="Fix-error-content-section"> <div class="Fix-error-package"> <div class="container-fluid main-section"> <button type="button" onclick="{onClose}" class="payment-close">X</button> <div class="popup success"> <div class="row"> <div class="premium-bx-bottom"> <div class="title"><span class="bold">{langTranslateApp.premiumStatusPopupText1}</span></div> </div> <div class="icon-ss"> </div> <h2 class="streaming-info-main">{langTranslateApp.premiumStatusPopupText2} <br>{langTranslateApp.premiumStatusPopupText3}</h2> <h5 class="streaming-info">{langTranslateApp.premiumStatusPopupText4} <br>{langTranslateApp.premiumStatusPopupText5}</h5> <a id="btnCallNow" href="javascript:void(0)" onclick="{onCallNow}" class="cta success-btn did-streaming">{langTranslateApp.premiumStatusPopupText13}<span class="arrowNow"></span></a> </div> <div class="Wrapper-white"> <img src="/media/11831/hd-tv.png"> <p class="bottom-info">{langTranslateApp.premiumStatusPopupText6} <span class="bold">{langTranslateApp.premiumStatusPopupText7} </span>{langTranslateApp.premiumStatusPopupText8} <br>{langTranslateApp.premiumStatusPopupText9} <span class="bold">{langTranslateApp.premiumStatusPopupText10}. </span>{langTranslateApp.premiumStatusPopupText11} <br>{langTranslateApp.premiumStatusPopupText12}</p> </div> </div> </div> </div> </div></section>','tag-dash-premium-status,[riot-tag="tag-dash-premium-status"],[data-is="tag-dash-premium-status"]{ visibility: visible; display: block; }','',function(opts){var self=this;self.token='';self.loading=true;self.showCard=true;self.isShowMaxApplicable=dstvApp.showmaxATBcountryList.includes(dstvApp.countryabbreviation);self.subscriberPremiumStatus=app.subscriberPremiumStatus?app.subscriberPremiumStatus.subscriberStatus:null;self.hasReachedPremium=self.subscriberPremiumStatus?(self.subscriberPremiumStatus[0].score==100?true:false):false;self.showCallNowPopup=false;self.notDualCurrency=false;if(dstvApp.countryabbreviation=='mu')
{self.notDualCurrency=true;}
self.premiumPackageCode=app.premPackageCode?app.premPackageCode:(dstvApp.languageAbbreviation=='pt'?'BUEPE36':'PRWE36');self.premiumDefaultScore=self.isShowMaxApplicable?40:50;self.boxOfficeDefaultScore=10;self.exploraDefaultScore=20;self.pvrDefaultScore=10;self.showmaxDefaultScore=10;self.dstvNowPlayDefaultScore=10;self.differentPopupText=dstvApp.listDifferentPopupText&&dstvApp.listDifferentPopupText.includes(dstvApp.countryabbreviation)?true:false;self.targetDomain="https://www.dstv.com";self.on('mount',function(){if(self.opts.showComponent){console.log('Subscriber Premium Status : In Mount...');self.showPremiumStatusSection=true;$('#changePackage').hide();self.getPremiumStatusUmbracoContent();self.update();}});self.popUpEvents=function(){$(".open").on("click",function(){$(".popup-overlay, .popup-content").addClass("active");$(".open").addClass("active");});$(".close, .popup-overlay").on("click",function(){$(".popup-overlay, .popup-content").removeClass("active");$(".open").removeClass("active");});}
self.getPremiumStatusUmbracoContent=function(){self.isPremiumStatusLoaded=false;fetch(dstvApp.targetDomain+`/api-services/hundred-percent-cards-${dstvApp.languageAbbreviation}/ujson?children=true&select=Name,activecardImage,activecarddescription,activecardprice,activecardbuttontext,activecardbuttonlink,activecardbuttontoggletext,activecardbuttontogglelink,activecardfootertext,inactivecarddescription,inactivecardprice,inactivecardbuttontext,inactivecardbuttonlink,inactivecardfootertext&resolvemedia=activecardImage&cdv=`+(new Date().getTime())).then(response=>response.json()).then(commits=>self.onGetPremContentSuccess(commits));}
self.onGetPremContentSuccess=function(data){console.log('100% Premium : Success in fetching Umbraco content');if(data&&data.entities.length>0)
self.filterContentData(data.entities);self.FetchTopUpAmountList();}
self.filterContentData=function(umbracoData){try{let keys;if(self.subscriberPremiumStatus){self.premiumStatus=self.subscriberPremiumStatus.map((status)=>{if(status){premium=status.activePrinciple>0?true:false;explora=status.explora>0?true:false;showmax=status.showmaxPlay>0?true:false;dstvNow=status.dStvNowPlay>0?true:false;boxOffice=status.boxOfficeRental>0?true:false;pvr=status.pvr>0?true:false;mobile=true;score=status.score?status.score:0;}
return{premium:premium,explora:explora,showmax:showmax,streaming:dstvNow,boxoffice:boxOffice,pvr:pvr,mobile:mobile,score:score}});self.premiumStatus=self.premiumStatus[0];keys=Object.keys(self.premiumStatus);keys=keys.map(function(x){return x.toLowerCase();});}
else{console.log('Subscriber status data not available');self.premiumStatus={premium:false,explora:false,showmax:false,streaming:false,boxoffice:false,pvr:false,mobile:false,score:0};keys=Object.keys(self.premiumStatus);keys=keys.map(function(x){return x.toLowerCase();});self.showOnlyPremiumCard();self.update();}
self.filteredUmbracoData=umbracoData.map((content)=>{let container={};let cardName=content.properties.Name.split(' ')[0].toLowerCase();let cardStatus=false;if(keys){if(keys.includes(cardName)){cardStatus=self.premiumStatus[cardName]===true?self.premiumStatus[cardName]:false;}
else{return;}}
cardName=cardName,cardButtonText=cardStatus?content.properties.ActiveCardButtonText:content.properties.InActiveCardButtonText,cardButtonLink=cardStatus?content.properties.ActiveCardButtonLink:content.properties.InActiveCardButtonLink,cardDescription=cardStatus?content.properties.ActiveCardDescription:content.properties.InActiveCardDescription,cardImage=content.properties.ActiveCardImage,cardFooterText=cardStatus?content.properties.ActiveCardFooterText:content.properties.InActiveCardFooterText
return{CardName:cardName,CardButtonText:cardButtonText,CardButtonLink:cardButtonLink,CardDescription:cardDescription,CardFooterText:cardFooterText,CardImage:cardImage};});}
catch(e){console.log('Account : Error while mapping Subscriber Premium status data.');}
if(self.filteredUmbracoData){self.filteredUmbracoData.forEach(function(data){const placeholder=document.createElement('div');placeholder.innerHTML=data.CardDescription;data.CardDescription=placeholder;});}
if(self.filteredUmbracoData){self.premiumCardData=self.filteredUmbracoData.filter(x=>x.CardName=='premium')[0];self.exploraCardData=self.filteredUmbracoData.filter(x=>x.CardName=='explora')[0];self.showmaxCardData=self.filteredUmbracoData.filter(x=>x.CardName=='showmax')[0];self.streamingCardData=self.filteredUmbracoData.filter(x=>x.CardName=='streaming')[0];self.boxOfficeCardData=self.filteredUmbracoData.filter(x=>x.CardName=='boxoffice')[0];self.pvrCardData=self.filteredUmbracoData.filter(x=>x.CardName=='pvr')[0];self.mobileCardData=self.filteredUmbracoData.filter(x=>x.CardName=='mobile')[0];if(self.premiumCardData&&dstvApp.premiumStatusCountryList.includes(dstvApp.countryabbreviation)){if(self.premiumCardData.CardFooterText.indexOf("%")>=0&&dstvApp.showmaxATBcountryList.includes(dstvApp.countryabbreviation)){self.premiumCardData.CardFooterText=self.premiumCardData.CardFooterText.replace(/%/gi,"40%");}
else{self.premiumCardData.CardFooterText=self.premiumCardData.CardFooterText.replace(/%/gi,"50%");}}
self.appendCardDescription();}
if(opts.showOnlyPremiumCard){self.showOnlyPremiumCard();}
self.popUpEvents();self.update();}
self.appendCardDescription=function(){$('#premium .info, #premium .info-txt').append(self.premiumCardData.CardDescription);$('#explora .txt').append(self.exploraCardData.CardDescription);$('#showmax .txt').append(self.showmaxCardData.CardDescription);$('#streaming .txt').append(self.streamingCardData.CardDescription);$('#boxoffice .info').append(self.boxOfficeCardData.CardDescription);$('#pvr .txt').append(self.pvrCardData.CardDescription);$('#mobile .txt').append(self.mobileCardData.CardDescription);}
self.OnCardButtonClick=function(e){let url='';let action=e.currentTarget.attributes["action"].value;self.LogAnalyticsData(action);cardStatus=self.premiumStatus[action]===true?self.premiumStatus[action]:false;switch(action){case 'premium':console.log(action);if(cardStatus){console.log('Active card : Button clicked');if(dstvApp.premiumStatusConfig&&dstvApp.premiumStatusConfig.dstvpremium){url=dstvApp.premiumStatusConfig.dstvpremium;}else{url=`${self.targetDomain}/${dstvApp.languageAbbreviation}-${dstvApp.countryabbreviation}/${self.premiumCardData.CardButtonLink}`;}
window.open(url,"_blank");}
else{console.log('Inctive card : Button clicked');window.HandleActiveTab("showChangePackage");riot.mount('tag-change-package-service',{premiumStatusUpgrade:true});}
break;case 'boxoffice':console.log(action);window.HandleActiveTab("showMore");riot.mount('tag-dash-boxoffice',{showComponent:true});break;case 'explora':console.log(action);if(dstvApp.premiumStatusConfig&&dstvApp.premiumStatusConfig.dstvexplora){url=dstvApp.premiumStatusConfig.dstvexplora;}else{url=`${self.targetDomain}/${dstvApp.languageAbbreviation}-${dstvApp.countryabbreviation}/${self.exploraCardData.CardButtonLink}`;}
window.open(url,"_blank");break;case 'pvr':console.log(action);self.showCallNowPopup=true;self.showPremiumStatusSection=false;break;case 'showmax':console.log(action);window.HandleActiveTab("showMore");$('#more-tab-showmax-section').show()
riot.mount('tag-showmax-card',{showComponent:true});break;case 'streaming':let utm=`utm_source=${window.location.hostname}&utm_medium=referral&utm_campaign=100%premium`;window.open(`${self.streamingCardData.CardButtonLink}?${utm}`,"_blank");break;case 'mobile':console.log(action);window.open('https://mydstv.onelink.me/vGln/910195fe',"_blank");break;default:console.log(action);break;}
$('html, body').animate({scrollTop:20},1000);self.update();}
self.showOnlyPremiumCard=function(){self.showCard=false;$('#premium').show();}
self.FetchTopUpAmountList=function(){console.log('Boxoffice : Topup amount list loading...')
if(!(app.topUpAmountList&&app.topUpAmountList.length>0)){let getTopupAmountURL=dstvApp.EazyMobileAPIURL+`v1/BoxOffice/${dstvApp.country}/GetAmountValues`;let settings={async:true,crossDomain:true,url:getTopupAmountURL,method:"GET"}
$.ajax(settings).done(function(response){response?self.OnTopupLoaded(response):self.OnTopupLoadedError();});}
else{console.log('Topup amount already loaded.')
self.isPremiumStatusLoaded=true;self.update();}}
self.OnTopupLoaded=function(data){if(app.dualCurrencyApplicable){app.topUpAmountList=data.topUpAmountList;app.topUpAmountListEtb=[];for(var i=0;i<app.topUpAmountList.length;i++){app.topUpAmountListEtb.push(Math.round(parseFloat(app.topUpAmountList[i]/dstvApp.DualCurrencyConversionRate)));}}else{app.topUpAmountList=data.topUpAmountList;}
window.SessionSave("app",app);self.isPremiumStatusLoaded=true;self.update();console.log('Topup amount list loaded');}
self.OnTopupLoadedError=function(){console.log('Error while fetching Topup amount list');self.isPremiumStatusLoaded=true;self.update();}
self.LogAnalyticsData=function(action){if(self.subscriberPremiumStatus){window.dataLayer=window.dataLayer||[];dataLayer.push({event:'100Percent_Premium_'+action,customernumber:self.subscriberPremiumStatus[0].customerNumber,accountnumber:self.subscriberPremiumStatus[0].accountNumber});}}
self.onCallNow=function(){if(dstvApp.premiumStatusConfig&&dstvApp.premiumStatusConfig.contactNo.trim()!=='')
window.location.href='tel:'+dstvApp.premiumStatusConfig.contactNo;else
window.open(dstvApp.ContactUsURL,"_blank");}
self.onClose=function(){self.showCallNowPopup=false;self.showPremiumStatusSection=true;self.getPremiumStatusUmbracoContent();self.popUpEvents();}});